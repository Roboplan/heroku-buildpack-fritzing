#!/usr/bin/env bash
set -e

# Set fritzing download path
FRITZING_FILE=fritzing-0.9.2b.linux.AMD64.tar.bz2
FRITZING_SOURCE=http://fritzing.org/download/0.9.2b/linux-64bit
FRITZING_TARGET_PATH=$1/vendor/fritzing

#
# Install fritzing
#
echo "-----> Downloading fritzing"
wget $FRITZING_SOURCE/$FRITZING_FILE -P $FRITZING_TARGET_PATH -N
echo "-----> Done"
echo "-----> Extracting fritzing"
tar xjvf $FRITZING_TARGET_PATH/$FRITZING_FILE -C $FRITZING_TARGET_PATH --strip-components 1
echo "-----> Done"
echo "-----> Creating a simlink"
ln -s ../fritzing/Fritzing $1/vendor/bin/Fritzing
echo "-----> Done"
echo "-----> Compilation Finished"
exit 0
